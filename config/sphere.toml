################################################################################
# sphere.toml
# Spherical geometry approximated with icosahedral faces.
# Tests curved surface interactions and isotropic geometry.
# Lengths are in cm; mua and mus are in 1/cm.
################################################################################

[general]
photons = 100
voxel_size = 0.05

[source]
position = [0.0, 0.3, 0.0]
direction = [0, -1, 0]

[[layer]]
eta = 1.4
mua = 0.8
mus = 15
ani = 0.0

# Approximate sphere with icosahedron (12 vertices, 20 triangular faces)
vertices = [
    [ 0.000,  0.200,  0.000],  # top
    [ 0.180,  0.089,  0.000],  # upper ring
    [ 0.056,  0.089,  0.171],
    [-0.145,  0.089,  0.106],
    [-0.145,  0.089, -0.106],
    [ 0.056,  0.089, -0.171],
    [ 0.145, -0.089,  0.106],  # lower ring
    [ 0.145, -0.089, -0.106],
    [-0.056, -0.089,  0.171],
    [-0.180, -0.089,  0.000],
    [-0.056, -0.089, -0.171],
    [ 0.000, -0.200,  0.000]   # bottom
]

# Icosahedral faces (20 triangles)
faces = [
    [0, 1, 2], [0, 2, 3], [0, 3, 4], [0, 4, 5], [0, 5, 1],  # top cap
    [1, 6, 2], [2, 8, 3], [3, 9, 4], [4, 10, 5], [5, 7, 1], # upper belt
    [6, 8, 2], [8, 9, 3], [9, 10, 4], [10, 7, 5], [7, 6, 1], # lower belt  
    [11, 8, 6], [11, 9, 8], [11, 10, 9], [11, 7, 10], [11, 6, 7] # bottom cap
]

# Approximate normals pointing outward
normals = [
    [ 0.000,  1.000,  0.000], [ 0.276,  0.851,  0.447], [ 0.276,  0.851, -0.447], [ 0.276,  0.851,  0.447], [ 0.894,  0.447,  0.000],
    [ 0.724,  0.447,  0.526], [-0.276,  0.851,  0.447], [-0.724,  0.447,  0.526], [-0.724,  0.447, -0.526], [ 0.276,  0.851, -0.447],
    [ 0.000,  0.000,  1.000], [ 0.000,  0.000,  1.000], [ 0.000,  0.000, -1.000], [ 0.000,  0.000, -1.000], [ 1.000,  0.000,  0.000],
    [-0.276, -0.851,  0.447], [-0.724, -0.447,  0.526], [-0.724, -0.447, -0.526], [ 0.276, -0.851, -0.447], [ 0.000, -1.000,  0.000]
]